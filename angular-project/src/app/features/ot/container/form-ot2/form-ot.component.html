<div class="container-fluid">
  <div class="row">
    <div class="col">
      <h1 class="mt-4">Orden de trabajo </h1>
      <span>formulario de ingreso de OT</span>
    </div>
    <div class="col">
      <button pButton type="button" label="Volver" icon="pi pi-arrow-left" class="p-button-sm mt-5 float-right p-button-outlined " (click)="goBack()"></button>
    </div>
    <div class="col-12">
      <hr>
    </div>
  </div>

  <app-card [classCardHeader]="'bg-secondary text-white'">
    <ng-container card-header-title>

    </ng-container>
    <ng-container card-body>
      <div [formGroup]="formOT" class="row">
        <div class="col-xs-12 col-md-8">
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <app-input [control]="formControls.nombre" [label]="'Nombre de la orden de trabajo'"></app-input>
            </div>
            <div class="col-xs-12 col-md-6">
              <app-select [control]="formControls.tipo" label="Tipo OT">
                <ng-container options>
                  <option value="null" selected disabled>Seleccione tipo OT</option>
                  <option value="OT">OT</option>
                  <option value="AP">AP</option>
                </ng-container>
              </app-select>
              <br>
            </div>
            <div class="col-xs-12 col-md-6">
              <app-select [control]="formControls.cubicacion_id" label="Cubicación">
                <ng-container options>
                  <option value="null" selected disabled>Seleccione cubicación</option>
                  <ng-container *ngFor="let cubicacion of cubicaciones$ | async">
                    <option [value]="cubicacion.id">
                      {{ cubicacion.nombre }}
                    </option>
                  </ng-container>
                </ng-container>
              </app-select>
              <br>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12 col-md-6">
              <app-select [control]="formControls.plan_proyecto_id" label="Plan de proyecto">
                <ng-container options>
                  <option value="null" selected disabled>Seleccione plan de proyecto</option>
                  <ng-container *ngFor="let plan of planes$ | async">
                    <option [value]="plan.id">
                      {{ plan.nombre }}
                    </option>
                  </ng-container>
                </ng-container>
              </app-select>
              <br>
            </div>
            <div class="col-xs-12 col-md-6">
              <!-- <label for="">Sitio</label>
              <p-dropdown [options]="sitios$ |async" [formControlName]="'sitio_id'" optionLabel="nombre" [filter]="true" filterBy="nombre" [showClear]="true" placeholder="Seleccione un sitio....">

              </p-dropdown> -->
              <app-select [control]="formControls.sitio_id" label="Sitio">
                <ng-container options>
                  <option value="null" selected disabled>Seleccione sitio</option>
                  <ng-container *ngFor="let sitio of sitios$ | async">
                    <option [value]="sitio.id">
                      {{ sitio.codigo }} - {{ sitio.nombre }}
                    </option>
                  </ng-container>
                </ng-container>
              </app-select>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-md-4">
          <app-detail [cubicacionSeleccionada]="cubicacionSeleccionada" [plan]="nombre_plan_proyecto" [sitioSeleccionado]="sitioSeleccionado" [formOt]="formOT.value"></app-detail>
        </div>
      </div>
    </ng-container>
  </app-card>
</div>