<div class="container-acta">
    <h1>Acta</h1>

    <div class="card">
        <div class=" grid">
            <div class="field col-12 table-acta">
                <zwc-table-servicios #tableServiciosActa mode_source="static" [data_source]="acta"
                    [cantidad_editable]="false" [column_acciones]="false">
                </zwc-table-servicios>
            </div>

        </div>
    </div>

    <p-divider align="center">
        <span class="p-tag">* Observaciones</span>
    </p-divider>

    <div class="card">
        <div class=" grid">
            <div *ngIf="accionExist('OT_SOLIC_INF_TRABAJO_FIN') && total_actas>0" class="field col-12">
                <zwc-pbutton-sending Pid="solicitar-informe-fin-trabajos-button"
                    content="Solicitar informe de fin de trabajos" Pclass="p-button-info p-button-sm mt-4 w-full"
                    (click)="displayModalsolicitarInformeFinDeTrabajos=true"></zwc-pbutton-sending>
            </div>
            <!-- 178 TODO: MEJORAR EL CSS -->
            <form [formGroup]="formComentario">
                <div class="col-12" id="control_observaciones">
                    <textarea formControlName="comentarios" class="form-control" placeholder="" name="comentarios"
                        id="comentarios" cols="30" rows="2"></textarea>
                    <br>
                </div>
                <zwc-input-alert [control]="formComentario.get('comentarios')"></zwc-input-alert>
            </form>
        </div>
    </div>


    <p-divider align="center">
    </p-divider>

    <div class="card">
        <div class=" grid">
            <div class="field col-12 md:col-4 lg:col-4 xl:col-4">
                <button pButton pRipple type="button" id="button-atrás" class="p-button-outlined"
                    [routerLink]="['/ot']">
                    Atrás
                </button>
            </div>
            <!-- 180 TODO: AGREGAR EL LOADING -->
            <div *ngIf=" accionExist('OT_GENERAR_ACTA')" class="field col-12 md:col-4 lg:col-4 xl:col-4">
                <zwc-pbutton-sending Pid="generar-acta-button" content="Generar acta"
                    Pclass="p-button-info p-button-sm mt-4 w-full" (click)="generarActa()"
                    [sending]="sendingInformarTrabajosFinalizados$|async"></zwc-pbutton-sending>
            </div>
        </div>
    </div>
</div>

<p-dialog header="Confirmar solicitud de informe fin de trabajos"
    [(visible)]="displayModalsolicitarInformeFinDeTrabajos" [draggable]="false" [modal]="true">
    Order de trabajo ID: {{ot_id}}
    <zwc-view-confirmacion pregunta='¿Desea confirmar la solicitud?'
        (cancelar)="displayModalsolicitarInformeFinDeTrabajos=false" (confirmar)="solicitarInformeFinDeTrabajos()">
    </zwc-view-confirmacion>
</p-dialog>