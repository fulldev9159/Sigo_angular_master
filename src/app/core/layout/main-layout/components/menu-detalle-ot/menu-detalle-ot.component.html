<ng-container *ngIf="otDetalle$|async as otDetalle">

    <div class="detalle-ot-container">
        <span>@OT-ID: <p>{{otDetalle.ot.id}}</p></span>
    </div>

    <div class="sidebar-menu">
        <ul>
            <li routerLinkActive="active" id="detalleot-informacion">
                <a [routerLink]="['/ot-detalle/informacion',otDetalle.ot.id]">
                    <fa-icon [icon]="infoIcon"></fa-icon>
                    <span>Información</span>
                </a>
            </li>
            <li routerLinkActive="active" id="detalleot-costeos">
                <a [routerLink]="['/ot-detalle/costeos',otDetalle.ot.id]">
                    <fa-icon [icon]="costeosIcon"></fa-icon>
                    <span>Costeos</span>
                </a>
            </li>
            <li routerLinkActive="active" id="detalleot-libro-obras">
                <a [routerLink]="['/ot-detalle/libro-obras',otDetalle.ot.id]">
                    <fa-icon [icon]="libroObrasIcon"></fa-icon>
                    <span>Libro Obras</span>
                </a>
            </li>


            <!-- INGENIERIA -->
            <ng-container
                *ngIf="otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_EJECUCION_TRABAJOS_INGENIERIA' && (rol==='TRABAJADOR'||rol==='ADM_EECC')">
                <li routerLinkActive="active" id="registrar-ingenieria">
                    <a [routerLink]="['/ingenieria/resultado-ingenieria',otDetalle.ot.id]">
                        <fa-icon [icon]="ingenieriaIcon"></fa-icon>
                        <span>Ingeniería</span>
                    </a>
                </li>
            </ng-container>

            <ng-container *ngIf="otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_AUTORIZACION_RESULTADO_INGENIERIA' && 
                                rol==='GESTOR'">
                <li routerLinkActive="active" id="validar-ingenieria">
                    <a [routerLink]="['/ingenieria/validar-ingenieria',otDetalle.ot.id]">
                        <fa-icon [icon]="ingenieriaIcon"></fa-icon>
                        <span>Ingeniería</span>
                    </a>
                </li>
            </ng-container>

            <ng-container *ngIf="(otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_AUTORIZACION_RESULTADO_INGENIERIA' && 
                                (rol==='TRABAJADOR'||rol==='ADM_EECC')) ||
                                ((otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_EJECUCION_TRABAJOS' ||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_ACEPTACION_IA'||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_GENERACION_ACTA'||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_VALIDACION_ACTA_GESTOR' ||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_SOLICITUD_PAGO'||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_APROBACION_OBRAS_OPERACIONES' ||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_PAGO_AUTORIZACION_SOLICITUD_PAGO' ||
                                  otDetalle.ot.model_tipo_etapa_ot_id.slug==='OT_ET_EJECUCION_TRABAJOS_ESPERA_IMPUTACION'  ) && 
                                (rol==='TRABAJADOR'||
                                  rol==='ADM_EECC'||
                                  rol==='GESTOR'||
                                  rol==='OPERACIONES'||
                                  rol==='SUPERVISOR'||
                                  rol==='JEFE_AREA' ||
                                  rol==='SUBGERENTE'||
                                  rol==='GERENTE'  
                                   )) ">
                <li routerLinkActive="active" id="ver-ingenieria">
                    <a [routerLink]="['/ingenieria/ver-ingenieria',otDetalle.ot.id]">
                        <fa-icon [icon]="ingenieriaIcon"></fa-icon>
                        <span>Ingeniería</span>
                    </a>
                </li>
            </ng-container>
            <!-- INGENIERIA -->



            <li routerLinkActive="active" id="detalleot-anexos">
                <a [routerLink]="['/ot-detalle/anexos',otDetalle.ot.id]">
                    <fa-icon [icon]="anexosIcon"></fa-icon>
                    <span>Documentos</span>
                </a>
            </li>
            <li routerLinkActive="active" id="menu-actas">
                <a [routerLink]="['/acta/listar-actas',otDetalle.ot.id]">
                    <i class="pi pi-globe"></i>
                    <span>Acta</span>
                </a>
            </li>
        </ul>
    </div>

</ng-container>